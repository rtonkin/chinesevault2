{"version":3,"sources":["ui-router-metatags.ts","ui-router-metatags.js"],"names":["uiroutermetatags","uiroutermetatags.UIRouterMetatags","uiroutermetatags.UIRouterMetatags.constructor","uiroutermetatags.UIRouterMetatags.setTitlePrefix","uiroutermetatags.UIRouterMetatags.setTitleSuffix","uiroutermetatags.UIRouterMetatags.setDefaultTitle","uiroutermetatags.UIRouterMetatags.setDefaultDescription","uiroutermetatags.UIRouterMetatags.setDefaultKeywords","uiroutermetatags.UIRouterMetatags.setStaticProperties","uiroutermetatags.UIRouterMetatags.setOGURL","uiroutermetatags.UIRouterMetatags.$get","uiroutermetatags.MetaTags","uiroutermetatags.MetaTags.constructor","uiroutermetatags.MetaTags.update","uiroutermetatags.MetaTags.getValue","uiroutermetatags.runBlock","uiroutermetatags.runBlock.stateChangeStart","uiroutermetatags.runBlock.stateChangeSuccess","uiroutermetatags.runBlock.stateChangeError","uiroutermetatags.runBlock.stateNotFound"],"mappings":"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","file":"ui-router-metatags.js","sourcesContent":["/**\r\n * Metatags for angular-ui-router\r\n */\r\nnamespace uiroutermetatags {\r\n\tconst appModule = angular.module('ui.router.metatags', ['ui.router']);\r\n\r\n\texport interface IMetaTags {\r\n\t\ttitle?: string | Function;\r\n\t\tdescription?: string | Function;\r\n\t\tkeywords?: string | Function;\r\n\t\tproperties?: {\r\n\t\t\t[index: string]: string | Function;\r\n\t\t},\r\n\t\tprerender?: Prerender;\r\n\t}\r\n\r\n\texport interface Prerender {\r\n\t\tstatusCode?: number | Function,\r\n\t\theader?: string | Function\r\n\t}\r\n\r\n\texport interface IProvider {\r\n\t\tsetTitlePrefix(prefix: string): IProvider;\r\n\t\tsetTitleSuffix(suffix: string): IProvider;\r\n\t\tsetDefaultTitle(title: string): IProvider;\r\n\t\tsetDefaultDescription(description: string): IProvider;\r\n\t\tsetDefaultKeywords(keywords: string): IProvider;\r\n\t\tsetStaticProperties(properties: {}): IProvider;\r\n\t\tsetOGURL(enabled: boolean): IProvider;\r\n\t}\r\n\r\n\texport interface IService {\r\n\t\tupdate(tags: IMetaTags): void;\r\n\t\tprerender: uiroutermetatags.Prerender;\r\n\t}\r\n\r\n\texport interface IConfig {\r\n\t\tprefix: string;\r\n\t\tsuffix: string;\r\n\t\tdefaultTitle: string;\r\n\t\tdefaultDescription: string;\r\n\t\tdefaultKeywords: string;\r\n\t\tstaticProperties: {};\r\n\t\tenableOGURL: boolean;\r\n\t}\r\n\r\n\tclass UIRouterMetatags implements angular.IServiceProvider, uiroutermetatags.IProvider {\r\n\t\tprefix: string = '';\r\n\t\tsuffix: string = '';\r\n\t\tdefaultTitle: string = '';\r\n\t\tdefaultDescription: string = '';\r\n\t\tdefaultKeywords: string = '';\r\n\t\tstaticProperties: {} = {};\r\n\t\tenableOGURL: boolean = false;\r\n\r\n\t\t/* @ngInject */\r\n\t\tconstructor() {\r\n\r\n\t\t}\r\n\r\n\t\tsetTitlePrefix(prefix: string): UIRouterMetatags {\r\n\t\t\tthis.prefix = prefix;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tsetTitleSuffix(suffix: string): UIRouterMetatags {\r\n\t\t\tthis.suffix = suffix;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tsetDefaultTitle(title: string): UIRouterMetatags {\r\n\t\t\tthis.defaultTitle = title\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tsetDefaultDescription(description: string): UIRouterMetatags {\r\n\t\t\tthis.defaultDescription = description;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tsetDefaultKeywords(keywords: string): UIRouterMetatags {\r\n\t\t\tthis.defaultKeywords = keywords;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tsetStaticProperties(properties: {}): UIRouterMetatags {\r\n\t\t\tthis.staticProperties = properties;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tsetOGURL(enabled: boolean): UIRouterMetatags {\r\n\t\t\tthis.enableOGURL = enabled;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpublic $get(): uiroutermetatags.IConfig {\r\n\t\t\treturn {\r\n\t\t\t\tprefix: this.prefix,\r\n\t\t\t\tsuffix: this.suffix,\r\n\t\t\t\tdefaultTitle: this.defaultTitle,\r\n\t\t\t\tdefaultDescription: this.defaultDescription,\r\n\t\t\t\tdefaultKeywords: this.defaultKeywords,\r\n\t\t\t\tstaticProperties: this.staticProperties,\r\n\t\t\t\tenableOGURL: this.enableOGURL\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tappModule.provider('UIRouterMetatags', UIRouterMetatags);\r\n\r\n\tclass MetaTags {\r\n\t\ttitle: string;\r\n\t\tkeywords: string;\r\n\t\tdescription: string;\r\n\t\tproperties: {};\r\n\t\tprerender: uiroutermetatags.Prerender = {};\r\n\t\t\r\n\t\t/* @ngInject */\r\n\t\tconstructor(public $log: angular.ILogService, public UIRouterMetatags: uiroutermetatags.IConfig, public $interpolate: angular.IInterpolateService, public $injector: angular.auto.IInjectorService, public $state: any, public $location: angular.ILocationService, public $window) {\r\n\t\t}\r\n\r\n\t\tupdate(tags: uiroutermetatags.IMetaTags) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.properties = angular.extend({}, this.UIRouterMetatags.staticProperties);\r\n\r\n\t\t\t\tif (this.UIRouterMetatags.enableOGURL) {\r\n\t\t\t\t\tthis.properties['og:url'] = this.$location.absUrl();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (tags) {\r\n\t\t\t\t\tthis.title = tags.title ? this.UIRouterMetatags.prefix + (this.getValue('title', tags.title) || '') + this.UIRouterMetatags.suffix : this.UIRouterMetatags.defaultTitle;\r\n\t\t\t\t\tthis.description = tags.description ? this.getValue('description', tags.description) : this.UIRouterMetatags.defaultDescription;\r\n\t\t\t\t\tthis.keywords = tags.keywords ? this.getValue('keywords', tags.keywords) : this.UIRouterMetatags.defaultKeywords;\r\n\t\t\t\t\tangular.forEach(tags.properties, (value, key) => {\r\n\t\t\t\t\t\tvar v = this.getValue(key, value);\r\n\t\t\t\t\t\tif (v) {\r\n\t\t\t\t\t\t\tthis.properties[key] = v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.title = this.UIRouterMetatags.defaultTitle;\r\n\t\t\t\t\tthis.description = this.UIRouterMetatags.defaultDescription;\r\n\t\t\t\t\tthis.keywords = this.UIRouterMetatags.defaultKeywords;\r\n\t\t\t\t}\r\n\t\t\t\tif (tags && tags.prerender) {\r\n\t\t\t\t\tthis.prerender.statusCode = tags.prerender.statusCode ? this.getValue('prerender.statusCode', tags.prerender.statusCode) : 200;\r\n\t\t\t\t\tthis.prerender.header = tags.prerender.header ? this.getValue('rerender.header', tags.prerender.header) : null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.prerender.statusCode = 200;\r\n\t\t\t\t\tthis.prerender.header = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$window.prerenderReady = true;\r\n\t\t\t} catch (err) {\r\n\t\t\t\tthis.$log.error('error occured when extracting metatags:', err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgetValue(tagType: string, tag) {\r\n\t\t\ttry {\r\n\t\t\t\tif (!tag) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else if (typeof tag === 'number') {\r\n\t\t\t\t\treturn tag;\r\n\t\t\t\t} else if (typeof tag === 'string' && tag.trim().length === 0) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else if (angular.isFunction(tag) || Array.isArray(tag)) {\r\n\t\t\t\t\treturn this.$injector.invoke(tag, this, this.$state.$current.locals.globals);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.$interpolate(tag)(this.$state.$current.locals.globals);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tthis.$log.error('error occured when trying to get the value of tag:', tagType, err);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tappModule.service('MetaTags', MetaTags);\r\n\t\r\n\t/* @ngInject */\r\n\tfunction runBlock($log: angular.ILogService, $rootScope: any, MetaTags: uiroutermetatags.IService, $window: angular.IWindowService) {\r\n\t\t$rootScope.MetaTags = MetaTags;\r\n\r\n\t\t$rootScope.$on('$stateChangeStart', stateChangeStart);\r\n        $rootScope.$on('$stateChangeSuccess', stateChangeSuccess);\r\n        $rootScope.$on('$stateChangeError', stateChangeError);\r\n        $rootScope.$on('$stateNotFound', stateNotFound);\r\n\r\n\t\tfunction stateChangeStart(event: angular.IAngularEvent, toState: angular.ui.IState, toParams: any, from: angular.ui.IState, fromParams: any) {\r\n            $window.prerenderReady = false;\r\n\t\t}\r\n\r\n\t\tfunction stateChangeSuccess(event: angular.IAngularEvent, toState: any) {\r\n\t\t\tif (!toState.metaTags) {\r\n\t\t\t\t$log.debug(`MetaTags - route: \"${toState.name}\" does not contain any metatags`);\r\n\t\t\t}\r\n\t\t\tMetaTags.update(toState.metaTags);\r\n\t\t}\r\n\r\n\t\tfunction stateChangeError(event: angular.IAngularEvent, toState: angular.ui.IState, toParams: any, fromState: angular.ui.IState, fromParams: any, error: any) {\r\n\t\t\tMetaTags.prerender.statusCode = 500;\r\n\t\t\t$window.prerenderReady = true;\r\n\t\t}\r\n\r\n\t\tfunction stateNotFound(event: angular.IAngularEvent, unfoundState: angular.ui.IState, fromState: angular.ui.IState) {\r\n\t\t\tMetaTags.prerender.statusCode = 404;\r\n\t\t\t$window.prerenderReady = true;\r\n\t\t}\r\n\t}\r\n\r\n\tappModule.run(runBlock);\r\n}\r\n\r\ndeclare module angular.ui {\r\n    interface IState {\r\n\t\tmetaTags?: uiroutermetatags.IMetaTags;\r\n\t}\r\n}\r\n\r\ninterface Window {\r\n\tprerenderReady?: boolean;\r\n}","/**\n * Metatags for angular-ui-router\n */\nvar uiroutermetatags;\n(function (uiroutermetatags) {\n    var appModule = angular.module('ui.router.metatags', ['ui.router']);\n    var UIRouterMetatags = (function () {\n        /* @ngInject */\n        function UIRouterMetatags() {\n            this.prefix = '';\n            this.suffix = '';\n            this.defaultTitle = '';\n            this.defaultDescription = '';\n            this.defaultKeywords = '';\n            this.staticProperties = {};\n            this.enableOGURL = false;\n        }\n        UIRouterMetatags.prototype.setTitlePrefix = function (prefix) {\n            this.prefix = prefix;\n            return this;\n        };\n        UIRouterMetatags.prototype.setTitleSuffix = function (suffix) {\n            this.suffix = suffix;\n            return this;\n        };\n        UIRouterMetatags.prototype.setDefaultTitle = function (title) {\n            this.defaultTitle = title;\n            return this;\n        };\n        UIRouterMetatags.prototype.setDefaultDescription = function (description) {\n            this.defaultDescription = description;\n            return this;\n        };\n        UIRouterMetatags.prototype.setDefaultKeywords = function (keywords) {\n            this.defaultKeywords = keywords;\n            return this;\n        };\n        UIRouterMetatags.prototype.setStaticProperties = function (properties) {\n            this.staticProperties = properties;\n            return this;\n        };\n        UIRouterMetatags.prototype.setOGURL = function (enabled) {\n            this.enableOGURL = enabled;\n            return this;\n        };\n        UIRouterMetatags.prototype.$get = function () {\n            return {\n                prefix: this.prefix,\n                suffix: this.suffix,\n                defaultTitle: this.defaultTitle,\n                defaultDescription: this.defaultDescription,\n                defaultKeywords: this.defaultKeywords,\n                staticProperties: this.staticProperties,\n                enableOGURL: this.enableOGURL\n            };\n        };\n        return UIRouterMetatags;\n    })();\n    appModule.provider('UIRouterMetatags', UIRouterMetatags);\n    var MetaTags = (function () {\n        /* @ngInject */\n        function MetaTags($log, UIRouterMetatags, $interpolate, $injector, $state, $location, $window) {\n            this.$log = $log;\n            this.UIRouterMetatags = UIRouterMetatags;\n            this.$interpolate = $interpolate;\n            this.$injector = $injector;\n            this.$state = $state;\n            this.$location = $location;\n            this.$window = $window;\n            this.prerender = {};\n        }\n        MetaTags.prototype.update = function (tags) {\n            var _this = this;\n            try {\n                this.properties = angular.extend({}, this.UIRouterMetatags.staticProperties);\n                if (this.UIRouterMetatags.enableOGURL) {\n                    this.properties['og:url'] = this.$location.absUrl();\n                }\n                if (tags) {\n                    this.title = tags.title ? this.UIRouterMetatags.prefix + (this.getValue('title', tags.title) || '') + this.UIRouterMetatags.suffix : this.UIRouterMetatags.defaultTitle;\n                    this.description = tags.description ? this.getValue('description', tags.description) : this.UIRouterMetatags.defaultDescription;\n                    this.keywords = tags.keywords ? this.getValue('keywords', tags.keywords) : this.UIRouterMetatags.defaultKeywords;\n                    angular.forEach(tags.properties, function (value, key) {\n                        var v = _this.getValue(key, value);\n                        if (v) {\n                            _this.properties[key] = v;\n                        }\n                    });\n                }\n                else {\n                    this.title = this.UIRouterMetatags.defaultTitle;\n                    this.description = this.UIRouterMetatags.defaultDescription;\n                    this.keywords = this.UIRouterMetatags.defaultKeywords;\n                }\n                if (tags && tags.prerender) {\n                    this.prerender.statusCode = tags.prerender.statusCode ? this.getValue('prerender.statusCode', tags.prerender.statusCode) : 200;\n                    this.prerender.header = tags.prerender.header ? this.getValue('rerender.header', tags.prerender.header) : null;\n                }\n                else {\n                    this.prerender.statusCode = 200;\n                    this.prerender.header = null;\n                }\n                this.$window.prerenderReady = true;\n            }\n            catch (err) {\n                this.$log.error('error occured when extracting metatags:', err);\n            }\n        };\n        MetaTags.prototype.getValue = function (tagType, tag) {\n            try {\n                if (!tag) {\n                    return null;\n                }\n                else if (typeof tag === 'number') {\n                    return tag;\n                }\n                else if (typeof tag === 'string' && tag.trim().length === 0) {\n                    return null;\n                }\n                else if (angular.isFunction(tag) || Array.isArray(tag)) {\n                    return this.$injector.invoke(tag, this, this.$state.$current.locals.globals);\n                }\n                else {\n                    return this.$interpolate(tag)(this.$state.$current.locals.globals);\n                }\n            }\n            catch (err) {\n                this.$log.error('error occured when trying to get the value of tag:', tagType, err);\n                return null;\n            }\n        };\n        return MetaTags;\n    })();\n    appModule.service('MetaTags', MetaTags);\n    /* @ngInject */\n    function runBlock($log, $rootScope, MetaTags, $window) {\n        $rootScope.MetaTags = MetaTags;\n        $rootScope.$on('$stateChangeStart', stateChangeStart);\n        $rootScope.$on('$stateChangeSuccess', stateChangeSuccess);\n        $rootScope.$on('$stateChangeError', stateChangeError);\n        $rootScope.$on('$stateNotFound', stateNotFound);\n        function stateChangeStart(event, toState, toParams, from, fromParams) {\n            $window.prerenderReady = false;\n        }\n        function stateChangeSuccess(event, toState) {\n            if (!toState.metaTags) {\n                $log.debug(\"MetaTags - route: \\\"\" + toState.name + \"\\\" does not contain any metatags\");\n            }\n            MetaTags.update(toState.metaTags);\n        }\n        function stateChangeError(event, toState, toParams, fromState, fromParams, error) {\n            MetaTags.prerender.statusCode = 500;\n            $window.prerenderReady = true;\n        }\n        function stateNotFound(event, unfoundState, fromState) {\n            MetaTags.prerender.statusCode = 404;\n            $window.prerenderReady = true;\n        }\n    }\n    appModule.run(runBlock);\n})(uiroutermetatags || (uiroutermetatags = {}));\n"],"sourceRoot":"/source/"}